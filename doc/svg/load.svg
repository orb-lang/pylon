<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="1819pt" height="1583pt"
 viewBox="0.00 0.00 1818.50 1583.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1579.0023)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1579.0023 1814.5,-1579.0023 1814.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1557.0023" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1552.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 100</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1485.0023" rx="60.1778" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1480.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;11</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1538.8337C491.5,-1531.1333 491.5,-1521.9767 491.5,-1513.419"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1513.4156 491.5,-1503.4156 488.0001,-1513.4156 495.0001,-1513.4156"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="137.5" cy="-1413.0023" rx="39.232" ry="18"/>
<text text-anchor="middle" x="137.5" y="-1408.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : load</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M441.5313,-1474.8392C372.8765,-1460.8755 250.3295,-1435.9507 183.7093,-1422.4008"/>
<polygon fill="#000000" stroke="#000000" points="184.0111,-1418.8906 173.5141,-1420.3273 182.6159,-1425.7502 184.0111,-1418.8906"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1413.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1408.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M455.2767,-1470.4321C424.1196,-1457.8996 379.4189,-1439.9194 348.366,-1427.4289"/>
<polygon fill="#000000" stroke="#000000" points="349.3816,-1424.0649 338.7979,-1423.5803 346.7693,-1430.5592 349.3816,-1424.0649"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1413.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1408.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1466.8337C491.5,-1459.1333 491.5,-1449.9767 491.5,-1441.419"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1441.4156 491.5,-1431.4156 488.0001,-1441.4156 495.0001,-1441.4156"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="609.5" cy="-1413.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="609.5" y="-1408.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517.9815,-1468.8441C536.0487,-1457.8201 560.0324,-1443.186 578.9149,-1431.6644"/>
<polygon fill="#000000" stroke="#000000" points="580.7453,-1434.6477 587.4586,-1426.4513 577.0992,-1428.6723 580.7453,-1434.6477"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-1413.0023" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-1408.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;100</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M546.7393,-1477.5683C643.8559,-1464.4984 845.1481,-1437.4086 953.5639,-1422.818"/>
<polygon fill="#000000" stroke="#000000" points="954.3154,-1426.2486 963.7592,-1421.446 953.3817,-1419.3111 954.3154,-1426.2486"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="80.5,-1359.0023 22.5,-1359.0023 22.5,-1323.0023 80.5,-1323.0023 80.5,-1359.0023"/>
<text text-anchor="middle" x="51.5" y="-1337.5024" font-family="Inconsolata" font-size="14.00" fill="#000000">* load</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M118.4138,-1397.0232C107.4537,-1387.8473 93.4543,-1376.1269 81.0961,-1365.7805"/>
<polygon fill="#000000" stroke="#000000" points="83.1749,-1362.9562 73.2605,-1359.2204 78.6813,-1368.3235 83.1749,-1362.9562"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="125.5" cy="-1341.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="125.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M284.2815,-1404.0395C253.6521,-1394.0509 203.4919,-1376.932 161.5,-1359.0023 159.7167,-1358.2409 157.8969,-1357.433 156.0697,-1356.5977"/>
<polygon fill="#000000" stroke="#000000" points="157.5375,-1353.4202 147.004,-1352.2809 154.528,-1359.7402 157.5375,-1353.4202"/>
</g>
<!-- prespace_9 -->
<g id="node10" class="node">
<title>prespace_9</title>
<ellipse fill="none" stroke="#000000" cx="216.5" cy="-1341.0023" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="216.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_3&#45;&gt;prespace_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;prespace_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M293.073,-1398.4321C279.5746,-1388.3083 261.3362,-1374.6295 246.0453,-1363.1613"/>
<polygon fill="#000000" stroke="#000000" points="248.0024,-1360.2542 237.9024,-1357.0541 243.8024,-1365.8542 248.0024,-1360.2542"/>
</g>
<!-- literal_10 -->
<g id="node11" class="node">
<title>literal_10</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1341.0023" rx="31.481" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;literal_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.5,-1394.8337C312.5,-1387.1333 312.5,-1377.9767 312.5,-1369.419"/>
<polygon fill="#000000" stroke="#000000" points="316.0001,-1369.4156 312.5,-1359.4156 309.0001,-1369.4156 316.0001,-1369.4156"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="388.5" cy="-1341.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="388.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M328.9909,-1397.3794C339.6629,-1387.2691 353.7097,-1373.9616 365.476,-1362.8145"/>
<polygon fill="#000000" stroke="#000000" points="367.968,-1365.275 372.8204,-1355.8567 363.1538,-1360.1933 367.968,-1365.275"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1341.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1394.8337C491.5,-1387.1333 491.5,-1377.9767 491.5,-1369.419"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1369.4156 491.5,-1359.4156 488.0001,-1369.4156 495.0001,-1369.4156"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="644.5" cy="-1341.0023" rx="27" ry="18"/>
<text text-anchor="middle" x="644.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_5&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.9725,-1395.5731C622.0997,-1387.083 627.1493,-1376.6952 631.7311,-1367.2698"/>
<polygon fill="#000000" stroke="#000000" points="634.8813,-1368.7949 636.1055,-1358.271 628.5857,-1365.7345 634.8813,-1368.7949"/>
</g>
<!-- header_20 -->
<g id="node21" class="node">
<title>header_20</title>
<ellipse fill="none" stroke="#000000" cx="920.5" cy="-1341.0023" rx="55.1438" ry="18"/>
<text text-anchor="middle" x="920.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Stricture</text>
</g>
<!-- section_6&#45;&gt;header_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;header_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1001.6477,-1396.1215C987.0878,-1386.2318 968.5353,-1373.6301 952.8456,-1362.9729"/>
<polygon fill="#000000" stroke="#000000" points="954.7059,-1360.0055 944.4672,-1357.2819 950.7727,-1365.7961 954.7059,-1360.0055"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-1341.0023" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.5,-1394.8337C1026.5,-1387.1333 1026.5,-1377.9767 1026.5,-1369.419"/>
<polygon fill="#000000" stroke="#000000" points="1030.0001,-1369.4156 1026.5,-1359.4156 1023.0001,-1369.4156 1030.0001,-1369.4156"/>
</g>
<!-- codeblock_22 -->
<g id="node23" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="1258.5" cy="-1341.0023" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1258.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;95</text>
</g>
<!-- section_6&#45;&gt;codeblock_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;codeblock_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1071.507,-1399.0346C1108.8794,-1387.4363 1162.2258,-1370.8805 1202.3816,-1358.4184"/>
<polygon fill="#000000" stroke="#000000" points="1203.5158,-1361.7312 1212.029,-1355.4244 1201.441,-1355.0457 1203.5158,-1361.7312"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="1591.5" cy="-1341.0023" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1591.5" y="-1336.8023" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 98&#45;100</text>
</g>
<!-- section_6&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1089.6681,-1404.9526C1192.5323,-1391.8442 1396.1406,-1365.8977 1509.8444,-1351.408"/>
<polygon fill="#000000" stroke="#000000" points="1510.4113,-1354.8642 1519.8886,-1350.128 1509.5264,-1347.9203 1510.4113,-1354.8642"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="177,-717.1027 0,-717.1027 0,-661.2997 177,-661.2997 177,-717.1027"/>
<text text-anchor="middle" x="88.5" y="-669.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">The responsibilities of</text>
</g>
<!-- raw_8&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_8&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M124.4718,-1322.8892C119.4705,-1234.7845 97.6439,-850.2823 90.6586,-727.2274"/>
<polygon fill="#000000" stroke="#000000" points="94.1476,-726.9335 90.0864,-717.1479 87.1589,-727.3302 94.1476,-726.9335"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="249.5,-707.2012 195.5,-707.2012 195.5,-671.2012 249.5,-671.2012 249.5,-707.2012"/>
<text text-anchor="middle" x="222.5" y="-685.7012" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prespace_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M216.6667,-1322.8892C217.5011,-1232.2534 221.2228,-827.9461 222.2415,-717.2827"/>
<polygon fill="#000000" stroke="#000000" points="225.7418,-717.2587 222.3341,-707.2268 218.7421,-717.1942 225.7418,-717.2587"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="333.5,-707.2012 279.5,-707.2012 279.5,-671.2012 333.5,-671.2012 333.5,-707.2012"/>
<text text-anchor="middle" x="306.5" y="-685.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">load</text>
</g>
<!-- literal_10&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>literal_10&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.3333,-1322.8892C311.4989,-1232.2534 307.7772,-827.9461 306.7585,-717.2827"/>
<polygon fill="#000000" stroke="#000000" points="310.2579,-717.1942 306.6659,-707.2268 303.2582,-717.2587 310.2579,-717.1942"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="405.5,-707.2012 351.5,-707.2012 351.5,-671.2012 405.5,-671.2012 405.5,-707.2012"/>
<text text-anchor="middle" x="378.5" y="-685.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">:</text>
</g>
<!-- raw_11&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_11&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M388.2221,-1322.8892C386.8316,-1232.2534 380.6286,-827.9461 378.9308,-717.2827"/>
<polygon fill="#000000" stroke="#000000" points="382.4296,-717.1719 378.7766,-707.2268 375.4305,-717.2794 382.4296,-717.1719"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="559,-709.1033 424,-709.1033 424,-669.2991 559,-669.2991 559,-709.1033"/>
<text text-anchor="middle" x="491.5" y="-677.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; Parse arguments</text>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1322.8892C491.5,-1232.7595 491.5,-832.4514 491.5,-719.1638"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-719.1165 491.5,-709.1166 488.0001,-719.1166 495.0001,-719.1165"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="852,-731.8022 577,-731.8022 577,-646.6001 852,-646.6001 852,-731.8022"/>
<text text-anchor="middle" x="714.5" y="-700.8012" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; If interactive and scripts:</text>
<text text-anchor="middle" x="714.5" y="-685.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Clone the global namespace</text>
<text text-anchor="middle" x="714.5" y="-670.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Run scripts into namespace clone</text>
<text text-anchor="middle" x="714.5" y="-654.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Launch REPL.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M646.4453,-1322.8892C655.5484,-1238.1258 694.1145,-879.02 708.7947,-742.3254"/>
<polygon fill="#000000" stroke="#000000" points="712.3046,-742.4201 709.8925,-732.1035 705.3446,-741.6725 712.3046,-742.4201"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="970.5,-707.2012 870.5,-707.2012 870.5,-671.2012 970.5,-671.2012 970.5,-707.2012"/>
<text text-anchor="middle" x="920.5" y="-685.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">** Stricture</text>
</g>
<!-- header_20&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_20&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M920.5,-1322.8892C920.5,-1232.2534 920.5,-827.9461 920.5,-717.2827"/>
<polygon fill="#000000" stroke="#000000" points="924.0001,-717.2268 920.5,-707.2268 917.0001,-717.2269 924.0001,-717.2268"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1015.5" cy="-689.2012" rx="27" ry="18"/>
<text text-anchor="middle" x="1015.5" y="-685.0012" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_21&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.1943,-1322.8892C1024.6647,-1232.2534 1017.8415,-827.9461 1015.9739,-717.2827"/>
<polygon fill="#000000" stroke="#000000" points="1019.4725,-717.1663 1015.8042,-707.2268 1012.4735,-717.2845 1019.4725,-717.1663"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1664.5,-1286.8036 1060.5,-1286.8036 1060.5,-91.5988 1664.5,-91.5988 1664.5,-1286.8036"/>
<text text-anchor="middle" x="1362.5" y="-1271.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local getinfo, error, rawset, rawget = debug.getinfo, error, rawset, rawget</text>
<text text-anchor="middle" x="1362.5" y="-1256.4023" font-family="Inconsolata" font-size="14.00" fill="#000000">local strict = {}</text>
<text text-anchor="middle" x="1362.5" y="-1225.0023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function what ()</text>
<text text-anchor="middle" x="1362.5" y="-1209.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local d = getinfo(3, &quot;S&quot;)</text>
<text text-anchor="middle" x="1362.5" y="-1194.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return d and d.what or &quot;C&quot;</text>
<text text-anchor="middle" x="1362.5" y="-1178.8022" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1362.5" y="-1147.4022" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45; make an existing table strict.</text>
<text text-anchor="middle" x="1362.5" y="-1132.0021" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @string name name of table (optional)</text>
<text text-anchor="middle" x="1362.5" y="-1116.6021" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] mod table &#45; if `nil` then we&#39;ll return a new table</text>
<text text-anchor="middle" x="1362.5" y="-1101.2021" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] predeclared &#45; table of variables that are to be considered predeclared.</text>
<text text-anchor="middle" x="1362.5" y="-1085.802" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @return the given table, or a new table</text>
<text text-anchor="middle" x="1362.5" y="-1070.402" font-family="Inconsolata" font-size="14.00" fill="#000000">function strict.module (name,mod,predeclared)</text>
<text text-anchor="middle" x="1362.5" y="-1055.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local mt, old_newindex, old_index, old_index_type, global, closed</text>
<text text-anchor="middle" x="1362.5" y="-1039.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if predeclared then</text>
<text text-anchor="middle" x="1362.5" y="-1024.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;global = predeclared.__global</text>
<text text-anchor="middle" x="1362.5" y="-1008.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;closed = predeclared.__closed</text>
<text text-anchor="middle" x="1362.5" y="-993.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-978.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(mod) == &#39;table&#39; then</text>
<text text-anchor="middle" x="1362.5" y="-962.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = getmetatable(mod)</text>
<text text-anchor="middle" x="1362.5" y="-947.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if mt and rawget(mt,&#39;__declared&#39;) then return end &#45;&#45; already patched...</text>
<text text-anchor="middle" x="1362.5" y="-931.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-916.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mod = {}</text>
<text text-anchor="middle" x="1362.5" y="-901.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-885.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if mt == nil then</text>
<text text-anchor="middle" x="1362.5" y="-870.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = {}</text>
<text text-anchor="middle" x="1362.5" y="-854.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;setmetatable(mod, mt)</text>
<text text-anchor="middle" x="1362.5" y="-839.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-824.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex = mt.__newindex</text>
<text text-anchor="middle" x="1362.5" y="-808.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index = mt.__index</text>
<text text-anchor="middle" x="1362.5" y="-793.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index_type = type(old_index)</text>
<text text-anchor="middle" x="1362.5" y="-777.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-762.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__declared = predeclared or {}</text>
<text text-anchor="middle" x="1362.5" y="-747.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__newindex = function(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-731.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_newindex then</text>
<text text-anchor="middle" x="1362.5" y="-716.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-700.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if rawget(t,n)~=nil then return end</text>
<text text-anchor="middle" x="1362.5" y="-685.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-670.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] then</text>
<text text-anchor="middle" x="1362.5" y="-654.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if global then</text>
<text text-anchor="middle" x="1362.5" y="-639.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local w = what()</text>
<text text-anchor="middle" x="1362.5" y="-623.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if w ~= &quot;main&quot; and w ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-608.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;assign to undeclared global &#39;&quot;..n..&quot;&#39;&quot;, 2)</text>
<text text-anchor="middle" x="1362.5" y="-593.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-577.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-562.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mt.__declared[n] = true</text>
<text text-anchor="middle" x="1362.5" y="-546.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-531.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;rawset(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-516.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-500.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__index = function(t,n)</text>
<text text-anchor="middle" x="1362.5" y="-485.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] and what() ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-469.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index then</text>
<text text-anchor="middle" x="1362.5" y="-454.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index_type == &quot;table&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-439.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fallback = old_index[n]</text>
<text text-anchor="middle" x="1362.5" y="-423.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fallback ~= nil then</text>
<text text-anchor="middle" x="1362.5" y="-408.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return fallback</text>
<text text-anchor="middle" x="1362.5" y="-392.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-377.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-362.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local res = old_index(t, n)</text>
<text text-anchor="middle" x="1362.5" y="-346.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if res ~= nil then</text>
<text text-anchor="middle" x="1362.5" y="-331.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return res</text>
<text text-anchor="middle" x="1362.5" y="-315.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-300.4004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local msg = &quot;variable &#39;&quot;..n..&quot;&#39; is not declared&quot;</text>
<text text-anchor="middle" x="1362.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if name then</text>
<text text-anchor="middle" x="1362.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;msg = msg .. &quot; in &#39;&quot;..name..&quot;&#39;&quot;</text>
<text text-anchor="middle" x="1362.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(msg, 2)</text>
<text text-anchor="middle" x="1362.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return rawget(t, n)</text>
<text text-anchor="middle" x="1362.5" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return mod</text>
<text text-anchor="middle" x="1362.5" y="-131.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1362.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">strict.module(nil,_G,{_PROMPT=true,__global=true})</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_22&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1261.3901,-1322.8892C1262.4953,-1315.9628 1263.8927,-1307.2046 1265.5392,-1296.8855"/>
<polygon fill="#000000" stroke="#000000" points="1269.0006,-1297.4045 1267.12,-1286.9779 1262.088,-1296.3014 1269.0006,-1297.4045"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1810.5,-707.2012 1682.5,-707.2012 1682.5,-671.2012 1810.5,-671.2012 1810.5,-707.2012"/>
<text text-anchor="middle" x="1746.5" y="-685.7012" font-family="Inconsolata" font-size="14.00" fill="#000000">require (arg[0])</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_23&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1629.7485,-1324.8348C1645.8799,-1316.0327 1663.2607,-1303.518 1673.5,-1287.0023 1791.1613,-1097.2185 1763.3106,-808.0346 1750.8457,-717.3848"/>
<polygon fill="#000000" stroke="#000000" points="1754.2893,-716.74 1749.4127,-707.3342 1747.3593,-717.7282 1754.2893,-716.74"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1128.5,-55.6015 902.5,-55.6015 902.5,.2015 1128.5,.2015 1128.5,-55.6015"/>
<text text-anchor="middle" x="1015.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Lifted straight from penlight.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1015.5,-671.1646C1015.5,-582.3326 1015.5,-190.6184 1015.5,-65.9467"/>
<polygon fill="#000000" stroke="#000000" points="1019.0001,-65.7404 1015.5,-55.7405 1012.0001,-65.7405 1019.0001,-65.7404"/>
</g>
</g>
</svg>
