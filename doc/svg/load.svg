<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="2547pt" height="1768pt"
 viewBox="0.00 0.00 2546.50 1768.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1764.4027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1764.4027 2542.5,-1764.4027 2542.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="623.5" cy="-1742.4027" rx="46.9581" ry="18"/>
<text text-anchor="middle" x="623.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 139</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="623.5" cy="-1670.4027" rx="60.9826" ry="18"/>
<text text-anchor="middle" x="623.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;20</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M623.5,-1724.234C623.5,-1716.5336 623.5,-1707.377 623.5,-1698.8193"/>
<polygon fill="#000000" stroke="#000000" points="627.0001,-1698.8159 623.5,-1688.816 620.0001,-1698.816 627.0001,-1698.8159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="137.5" cy="-1598.4027" rx="39.232" ry="18"/>
<text text-anchor="middle" x="137.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : load</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M569.1643,-1662.3529C473.2859,-1648.1487 275.6549,-1618.8701 184.926,-1605.4288"/>
<polygon fill="#000000" stroke="#000000" points="185.3294,-1601.9504 174.9244,-1603.947 184.3035,-1608.8748 185.3294,-1601.9504"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M575.5878,-1659.3105C514.3474,-1645.1326 409.4398,-1620.8453 352.3518,-1607.6288"/>
<polygon fill="#000000" stroke="#000000" points="353.1377,-1604.2183 342.6059,-1605.3725 351.5588,-1611.0379 353.1377,-1604.2183"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="512.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="512.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M598.0344,-1653.8844C581.4648,-1643.1366 559.7843,-1629.0736 542.3972,-1617.7955"/>
<polygon fill="#000000" stroke="#000000" points="544.0403,-1614.6894 533.746,-1612.1839 540.2309,-1620.5622 544.0403,-1614.6894"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="630.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="630.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M625.2664,-1652.234C626.015,-1644.5336 626.9053,-1635.377 627.7373,-1626.8193"/>
<polygon fill="#000000" stroke="#000000" points="631.2256,-1627.1077 628.7098,-1616.816 624.2585,-1626.4303 631.2256,-1627.1077"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1020.5" cy="-1598.4027" rx="65.8187" ry="18"/>
<text text-anchor="middle" x="1020.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;20</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M675.4008,-1660.9899C747.3111,-1647.9483 877.2168,-1624.3885 955.4972,-1610.1916"/>
<polygon fill="#000000" stroke="#000000" points="956.504,-1613.5662 965.7189,-1608.3378 955.2548,-1606.6785 956.504,-1613.5662"/>
</g>
<!-- section_7 -->
<g id="node8" class="node">
<title>section_7</title>
<ellipse fill="none" stroke="#000000" cx="1558.5" cy="-1598.4027" rx="70.655" ry="18"/>
<text text-anchor="middle" x="1558.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 21&#45;139</text>
</g>
<!-- section_1&#45;&gt;section_7 -->
<g id="edge7" class="edge">
<title>section_1&#45;&gt;section_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M682.3426,-1665.8715C844.5293,-1653.3822 1298.0294,-1618.4603 1480.7469,-1604.3901"/>
<polygon fill="#000000" stroke="#000000" points="1481.1141,-1607.8723 1490.8159,-1603.6147 1480.5766,-1600.8929 1481.1141,-1607.8723"/>
</g>
<!-- leaf_8 -->
<g id="node9" class="node">
<title>leaf_8</title>
<polygon fill="none" stroke="#c0c0c0" points="80.5,-1544.4027 22.5,-1544.4027 22.5,-1508.4027 80.5,-1508.4027 80.5,-1544.4027"/>
<text text-anchor="middle" x="51.5" y="-1522.9027" font-family="Inconsolata" font-size="14.00" fill="#000000">* load</text>
</g>
<!-- header_2&#45;&gt;leaf_8 -->
<g id="edge8" class="edge">
<title>header_2&#45;&gt;leaf_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M118.4138,-1582.4236C107.4537,-1573.2476 93.4543,-1561.5272 81.0961,-1551.1808"/>
<polygon fill="#000000" stroke="#000000" points="83.1749,-1548.3565 73.2605,-1544.6208 78.6813,-1553.7238 83.1749,-1548.3565"/>
</g>
<!-- raw_9 -->
<g id="node10" class="node">
<title>raw_9</title>
<ellipse fill="none" stroke="#000000" cx="125.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="125.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;raw_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M284.2815,-1589.4398C253.6521,-1579.4512 203.4919,-1562.3323 161.5,-1544.4027 159.7167,-1543.6412 157.8969,-1542.8334 156.0697,-1541.9981"/>
<polygon fill="#000000" stroke="#000000" points="157.5375,-1538.8205 147.004,-1537.6812 154.528,-1545.1406 157.5375,-1538.8205"/>
</g>
<!-- prespace_10 -->
<g id="node11" class="node">
<title>prespace_10</title>
<ellipse fill="none" stroke="#000000" cx="216.5" cy="-1526.4027" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="216.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_3&#45;&gt;prespace_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;prespace_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M293.073,-1583.8324C279.5746,-1573.7086 261.3362,-1560.0299 246.0453,-1548.5617"/>
<polygon fill="#000000" stroke="#000000" points="248.0024,-1545.6545 237.9024,-1542.4545 243.8024,-1551.2545 248.0024,-1545.6545"/>
</g>
<!-- literal_11 -->
<g id="node12" class="node">
<title>literal_11</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1526.4027" rx="31.481" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;literal_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.5,-1580.234C312.5,-1572.5336 312.5,-1563.377 312.5,-1554.8193"/>
<polygon fill="#000000" stroke="#000000" points="316.0001,-1554.8159 312.5,-1544.816 309.0001,-1554.816 316.0001,-1554.8159"/>
</g>
<!-- raw_12 -->
<g id="node13" class="node">
<title>raw_12</title>
<ellipse fill="none" stroke="#000000" cx="388.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="388.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_12 -->
<g id="edge12" class="edge">
<title>prose_3&#45;&gt;raw_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M328.9909,-1582.7798C339.6629,-1572.6694 353.7097,-1559.3619 365.476,-1548.2149"/>
<polygon fill="#000000" stroke="#000000" points="367.968,-1550.6753 372.8204,-1541.257 363.1538,-1545.5936 367.968,-1550.6753"/>
</g>
<!-- raw_17 -->
<g id="node18" class="node">
<title>raw_17</title>
<ellipse fill="none" stroke="#000000" cx="498.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="498.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_17 -->
<g id="edge17" class="edge">
<title>prose_4&#45;&gt;raw_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M508.9672,-1580.234C507.4302,-1572.3292 505.5947,-1562.8899 503.8932,-1554.1392"/>
<polygon fill="#000000" stroke="#000000" points="507.3276,-1553.4642 501.9832,-1544.3161 500.4563,-1554.8003 507.3276,-1553.4642"/>
</g>
<!-- raw_19 -->
<g id="node20" class="node">
<title>raw_19</title>
<ellipse fill="none" stroke="#000000" cx="658.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="658.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_19 -->
<g id="edge19" class="edge">
<title>prose_5&#45;&gt;raw_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M637.4214,-1580.6049C640.6086,-1572.409 644.4602,-1562.5051 647.9943,-1553.4172"/>
<polygon fill="#000000" stroke="#000000" points="651.2958,-1554.5844 651.6583,-1543.9957 644.7717,-1552.0472 651.2958,-1554.5844"/>
</g>
<!-- header_21 -->
<g id="node22" class="node">
<title>header_21</title>
<ellipse fill="none" stroke="#000000" cx="949.5" cy="-1526.4027" rx="92.3882" ry="18"/>
<text text-anchor="middle" x="949.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">3 : Check for lua&#45;utf8</text>
</g>
<!-- section_6&#45;&gt;header_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;header_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1003.3129,-1580.9735C994.5482,-1572.0854 983.7327,-1561.1175 974.1021,-1551.3513"/>
<polygon fill="#000000" stroke="#000000" points="976.5357,-1548.8344 967.0221,-1544.1716 971.5514,-1553.7495 976.5357,-1548.8344"/>
</g>
<!-- prose_22 -->
<g id="node23" class="node">
<title>prose_22</title>
<ellipse fill="none" stroke="#000000" cx="1091.5" cy="-1526.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1091.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;prose_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1037.6871,-1580.9735C1046.9751,-1571.5547 1058.566,-1559.8005 1068.6094,-1549.6157"/>
<polygon fill="#000000" stroke="#000000" points="1071.3949,-1551.7757 1075.9242,-1542.1978 1066.4106,-1546.8607 1071.3949,-1551.7757"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="1235.5" cy="-1526.4027" rx="77.4211" ry="18"/>
<text text-anchor="middle" x="1235.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;19</text>
</g>
<!-- section_6&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1062.2091,-1584.435C1096.287,-1573.0229 1144.697,-1556.8111 1181.6923,-1544.422"/>
<polygon fill="#000000" stroke="#000000" points="1182.9473,-1547.6928 1191.3183,-1541.1984 1180.7244,-1541.0551 1182.9473,-1547.6928"/>
</g>
<!-- header_28 -->
<g id="node29" class="node">
<title>header_28</title>
<ellipse fill="none" stroke="#000000" cx="1452.5" cy="-1526.4027" rx="55.1438" ry="18"/>
<text text-anchor="middle" x="1452.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Stricture</text>
</g>
<!-- section_7&#45;&gt;header_28 -->
<g id="edge28" class="edge">
<title>section_7&#45;&gt;header_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1533.6477,-1581.5219C1519.0878,-1571.6321 1500.5353,-1559.0305 1484.8456,-1548.3733"/>
<polygon fill="#000000" stroke="#000000" points="1486.7059,-1545.4059 1476.4672,-1542.6823 1482.7727,-1551.1964 1486.7059,-1545.4059"/>
</g>
<!-- prose_29 -->
<g id="node30" class="node">
<title>prose_29</title>
<ellipse fill="none" stroke="#000000" cx="1558.5" cy="-1526.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1558.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_7&#45;&gt;prose_29 -->
<g id="edge29" class="edge">
<title>section_7&#45;&gt;prose_29</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1558.5,-1580.234C1558.5,-1572.5336 1558.5,-1563.377 1558.5,-1554.8193"/>
<polygon fill="#000000" stroke="#000000" points="1562.0001,-1554.8159 1558.5,-1544.816 1555.0001,-1554.816 1562.0001,-1554.8159"/>
</g>
<!-- codeblock_30 -->
<g id="node31" class="node">
<title>codeblock_30</title>
<ellipse fill="none" stroke="#000000" cx="1792.5" cy="-1526.4027" rx="81.9542" ry="18"/>
<text text-anchor="middle" x="1792.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 25&#45;115</text>
</g>
<!-- section_7&#45;&gt;codeblock_30 -->
<g id="edge30" class="edge">
<title>section_7&#45;&gt;codeblock_30</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1603.6176,-1584.5204C1641.0385,-1573.0062 1694.4769,-1556.5636 1734.9697,-1544.1043"/>
<polygon fill="#000000" stroke="#000000" points="1736.1772,-1547.3948 1744.7057,-1541.1086 1734.1185,-1540.7043 1736.1772,-1547.3948"/>
</g>
<!-- codeblock_31 -->
<g id="node32" class="node">
<title>codeblock_31</title>
<ellipse fill="none" stroke="#000000" cx="2177.5" cy="-1526.4027" rx="86.7905" ry="18"/>
<text text-anchor="middle" x="2177.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 118&#45;126</text>
</g>
<!-- section_7&#45;&gt;codeblock_31 -->
<g id="edge31" class="edge">
<title>section_7&#45;&gt;codeblock_31</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1622.9921,-1590.9012C1735.145,-1577.8559 1966.1108,-1550.9908 2091.668,-1536.3864"/>
<polygon fill="#000000" stroke="#000000" points="2092.1037,-1539.8594 2101.6323,-1535.2274 2091.2949,-1532.9063 2092.1037,-1539.8594"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="177,-809.8028 0,-809.8028 0,-753.9999 177,-753.9999 177,-809.8028"/>
<text text-anchor="middle" x="88.5" y="-762.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">The responsibilities of</text>
</g>
<!-- raw_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>raw_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M124.6037,-1508.3681C119.806,-1411.8303 97.1273,-955.4964 90.391,-819.9521"/>
<polygon fill="#000000" stroke="#000000" points="93.8716,-819.4732 89.8795,-809.6593 86.8803,-819.8207 93.8716,-819.4732"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="249.5,-799.9014 195.5,-799.9014 195.5,-763.9014 249.5,-763.9014 249.5,-799.9014"/>
<text text-anchor="middle" x="222.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_10&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>prespace_10&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M216.6453,-1508.3681C217.4436,-1409.3185 221.2943,-931.5064 222.2733,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="225.7731,-810.059 222.3539,-800.0311 218.7733,-810.0025 225.7731,-810.059"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="333.5,-799.9014 279.5,-799.9014 279.5,-763.9014 333.5,-763.9014 333.5,-799.9014"/>
<text text-anchor="middle" x="306.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">load</text>
</g>
<!-- literal_11&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>literal_11&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.3547,-1508.3681C311.5564,-1409.3185 307.7057,-931.5064 306.7267,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="310.2267,-810.0025 306.6461,-800.0311 303.2269,-810.059 310.2267,-810.0025"/>
</g>
<!-- leaf_16 -->
<g id="node17" class="node">
<title>leaf_16</title>
<polygon fill="none" stroke="#c0c0c0" points="405.5,-799.9014 351.5,-799.9014 351.5,-763.9014 405.5,-763.9014 405.5,-799.9014"/>
<text text-anchor="middle" x="378.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">:</text>
</g>
<!-- raw_12&#45;&gt;leaf_16 -->
<g id="edge16" class="edge">
<title>raw_12&#45;&gt;leaf_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M388.2578,-1508.3681C386.9273,-1409.3185 380.5095,-931.5064 378.8779,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="382.3776,-809.9832 378.7435,-800.0311 375.3782,-810.0772 382.3776,-809.9832"/>
</g>
<!-- leaf_18 -->
<g id="node19" class="node">
<title>leaf_18</title>
<polygon fill="none" stroke="#c0c0c0" points="559,-801.8034 424,-801.8034 424,-761.9993 559,-761.9993 559,-801.8034"/>
<text text-anchor="middle" x="491.5" y="-770.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; Parse arguments</text>
</g>
<!-- raw_17&#45;&gt;leaf_18 -->
<g id="edge18" class="edge">
<title>raw_17&#45;&gt;leaf_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M498.3304,-1508.3681C497.4042,-1409.8574 492.9554,-936.6944 491.7835,-812.0497"/>
<polygon fill="#000000" stroke="#000000" points="495.2805,-811.7028 491.6865,-801.7362 488.2808,-811.7687 495.2805,-811.7028"/>
</g>
<!-- leaf_20 -->
<g id="node21" class="node">
<title>leaf_20</title>
<polygon fill="none" stroke="#c0c0c0" points="852,-824.5024 577,-824.5024 577,-739.3003 852,-739.3003 852,-824.5024"/>
<text text-anchor="middle" x="714.5" y="-793.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; If interactive and scripts:</text>
<text text-anchor="middle" x="714.5" y="-778.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Clone the global namespace</text>
<text text-anchor="middle" x="714.5" y="-762.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Run scripts into namespace clone</text>
<text text-anchor="middle" x="714.5" y="-747.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Launch REPL.</text>
</g>
<!-- raw_19&#45;&gt;leaf_20 -->
<g id="edge20" class="edge">
<title>raw_19&#45;&gt;leaf_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M659.8565,-1508.3681C666.8695,-1415.1333 699.1254,-986.3018 710.5087,-834.9642"/>
<polygon fill="#000000" stroke="#000000" points="713.9997,-835.2137 711.2598,-824.9793 707.0195,-834.6885 713.9997,-835.2137"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="1040.5,-799.9014 870.5,-799.9014 870.5,-763.9014 1040.5,-763.9014 1040.5,-799.9014"/>
<text text-anchor="middle" x="955.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">*** Check for lua&#45;utf8</text>
</g>
<!-- header_21&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_21&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M949.6453,-1508.3681C950.4436,-1409.3185 954.2943,-931.5064 955.2733,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="958.7731,-810.059 955.3539,-800.0311 951.7733,-810.0025 958.7731,-810.059"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1085.5" cy="-781.9014" rx="27" ry="18"/>
<text text-anchor="middle" x="1085.5" y="-777.7014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_22&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_22&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1091.3547,-1508.3681C1090.5564,-1409.3185 1086.7057,-931.5064 1085.7267,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="1089.2267,-810.0025 1085.6461,-800.0311 1082.2269,-810.059 1089.2267,-810.0025"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1384.5,-801.2019 1130.5,-801.2019 1130.5,-762.6008 1384.5,-762.6008 1384.5,-801.2019"/>
<text text-anchor="middle" x="1257.5" y="-786.1014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; local utf8 = require &quot;lua&#45;utf8&quot;</text>
<text text-anchor="middle" x="1257.5" y="-770.7014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; assert(utf8, &quot;no utf8&quot;)</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_23&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1236.0329,-1508.3681C1238.9471,-1409.7496 1252.9565,-935.6586 1256.6212,-811.6418"/>
<polygon fill="#000000" stroke="#000000" points="1260.1271,-811.4886 1256.9241,-801.3895 1253.1302,-811.2817 1260.1271,-811.4886"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1112.5,-45.7 1058.5,-45.7 1058.5,-9.7 1112.5,-9.7 1112.5,-45.7"/>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1085.5,-763.6318C1085.5,-663.1825 1085.5,-178.2003 1085.5,-55.8003"/>
<polygon fill="#000000" stroke="#000000" points="1089.0001,-55.7291 1085.5,-45.7292 1082.0001,-55.7292 1089.0001,-55.7291"/>
</g>
<!-- leaf_32 -->
<g id="node33" class="node">
<title>leaf_32</title>
<polygon fill="none" stroke="#c0c0c0" points="1502.5,-799.9014 1402.5,-799.9014 1402.5,-763.9014 1502.5,-763.9014 1502.5,-799.9014"/>
<text text-anchor="middle" x="1452.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">** Stricture</text>
</g>
<!-- header_28&#45;&gt;leaf_32 -->
<g id="edge32" class="edge">
<title>header_28&#45;&gt;leaf_32</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1452.5,-1508.3681C1452.5,-1409.3185 1452.5,-931.5064 1452.5,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="1456.0001,-810.0311 1452.5,-800.0311 1449.0001,-810.0311 1456.0001,-810.0311"/>
</g>
<!-- raw_33 -->
<g id="node34" class="node">
<title>raw_33</title>
<ellipse fill="none" stroke="#000000" cx="1547.5" cy="-781.9014" rx="27" ry="18"/>
<text text-anchor="middle" x="1547.5" y="-777.7014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_29&#45;&gt;raw_33 -->
<g id="edge33" class="edge">
<title>prose_29&#45;&gt;raw_33</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1558.2335,-1508.3681C1556.7701,-1409.3185 1549.7104,-931.5064 1547.9157,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="1551.4153,-809.9783 1547.7679,-800.0311 1544.4161,-810.0818 1551.4153,-809.9783"/>
</g>
<!-- leaf_35 -->
<g id="node36" class="node">
<title>leaf_35</title>
<polygon fill="none" stroke="#c0c0c0" points="2196.5,-1472.404 1592.5,-1472.404 1592.5,-91.3987 2196.5,-91.3987 2196.5,-1472.404"/>
<text text-anchor="middle" x="1894.5" y="-1457.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local getinfo, error, rawset, rawget = debug.getinfo, error, rawset, rawget</text>
<text text-anchor="middle" x="1894.5" y="-1441.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local strict = {}</text>
<text text-anchor="middle" x="1894.5" y="-1410.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local function what ()</text>
<text text-anchor="middle" x="1894.5" y="-1395.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local d = getinfo(3, &quot;S&quot;)</text>
<text text-anchor="middle" x="1894.5" y="-1379.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return d and d.what or &quot;C&quot;</text>
<text text-anchor="middle" x="1894.5" y="-1364.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1894.5" y="-1332.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45; make an existing table strict.</text>
<text text-anchor="middle" x="1894.5" y="-1317.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @string name name of table (optional)</text>
<text text-anchor="middle" x="1894.5" y="-1302.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] mod table &#45; if `nil` then we&#39;ll return a new table</text>
<text text-anchor="middle" x="1894.5" y="-1286.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] predeclared &#45; table of variables that are to be considered predeclared.</text>
<text text-anchor="middle" x="1894.5" y="-1271.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @return the given table, or a new table</text>
<text text-anchor="middle" x="1894.5" y="-1255.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function stricture(name,mod,predeclared)</text>
<text text-anchor="middle" x="1894.5" y="-1240.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local mt, old_newindex, old_index, old_index_type, global, closed</text>
<text text-anchor="middle" x="1894.5" y="-1225.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if predeclared then</text>
<text text-anchor="middle" x="1894.5" y="-1209.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;global = predeclared.__global</text>
<text text-anchor="middle" x="1894.5" y="-1194.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;closed = predeclared.__closed</text>
<text text-anchor="middle" x="1894.5" y="-1178.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-1163.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(mod) == &#39;table&#39; then</text>
<text text-anchor="middle" x="1894.5" y="-1148.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = getmetatable(mod)</text>
<text text-anchor="middle" x="1894.5" y="-1132.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if mt and rawget(mt,&#39;__declared&#39;) then return end &#45;&#45; already patched...</text>
<text text-anchor="middle" x="1894.5" y="-1117.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1894.5" y="-1101.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mod = {}</text>
<text text-anchor="middle" x="1894.5" y="-1086.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-1071.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if mt == nil then</text>
<text text-anchor="middle" x="1894.5" y="-1055.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = {}</text>
<text text-anchor="middle" x="1894.5" y="-1040.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;setmetatable(mod, mt)</text>
<text text-anchor="middle" x="1894.5" y="-1024.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1894.5" y="-1009.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex = mt.__newindex</text>
<text text-anchor="middle" x="1894.5" y="-994.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index = mt.__index</text>
<text text-anchor="middle" x="1894.5" y="-978.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index_type = type(old_index)</text>
<text text-anchor="middle" x="1894.5" y="-963.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-947.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__declared = predeclared or {}</text>
<text text-anchor="middle" x="1894.5" y="-932.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__newindex = function(t, n, v)</text>
<text text-anchor="middle" x="1894.5" y="-917.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_newindex then</text>
<text text-anchor="middle" x="1894.5" y="-901.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex(t, n, v)</text>
<text text-anchor="middle" x="1894.5" y="-886.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if rawget(t,n)~=nil then return end</text>
<text text-anchor="middle" x="1894.5" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] then</text>
<text text-anchor="middle" x="1894.5" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if global then</text>
<text text-anchor="middle" x="1894.5" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local w = what()</text>
<text text-anchor="middle" x="1894.5" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if w ~= &quot;main&quot; and w ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1894.5" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;assign to undeclared global &#39;&quot;..n..&quot;&#39;&quot;, 2)</text>
<text text-anchor="middle" x="1894.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mt.__declared[n] = true</text>
<text text-anchor="middle" x="1894.5" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;rawset(t, n, v)</text>
<text text-anchor="middle" x="1894.5" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__index = function(t,n)</text>
<text text-anchor="middle" x="1894.5" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] and what() ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1894.5" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index then</text>
<text text-anchor="middle" x="1894.5" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index_type == &quot;table&quot; then</text>
<text text-anchor="middle" x="1894.5" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fallback = old_index[n]</text>
<text text-anchor="middle" x="1894.5" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fallback ~= nil then</text>
<text text-anchor="middle" x="1894.5" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return fallback</text>
<text text-anchor="middle" x="1894.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1894.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local res = old_index(t, n)</text>
<text text-anchor="middle" x="1894.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if res ~= nil then</text>
<text text-anchor="middle" x="1894.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return res</text>
<text text-anchor="middle" x="1894.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local msg = &quot;variable &#39;&quot;..n..&quot;&#39; is not declared&quot;</text>
<text text-anchor="middle" x="1894.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if name then</text>
<text text-anchor="middle" x="1894.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;msg = msg .. &quot; in &#39;&quot;..name..&quot;&#39;&quot;</text>
<text text-anchor="middle" x="1894.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(msg, 2)</text>
<text text-anchor="middle" x="1894.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return rawget(t, n)</text>
<text text-anchor="middle" x="1894.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return mod</text>
<text text-anchor="middle" x="1894.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1894.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; So `strict.make_all_strict(_G)` prevents monkey&#45;patching</text>
<text text-anchor="middle" x="1894.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; of any global table</text>
<text text-anchor="middle" x="1894.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab T</text>
<text text-anchor="middle" x="1894.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function make_all_strict (T)</text>
<text text-anchor="middle" x="1894.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for k,v in pairs(T) do</text>
<text text-anchor="middle" x="1894.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v ~= T then</text>
<text text-anchor="middle" x="1894.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stricture(k,v)</text>
<text text-anchor="middle" x="1894.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1894.5" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1894.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">stricture(nil,_G,{_PROMPT=true,__global=true})</text>
<text text-anchor="middle" x="1894.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; make_all_strict(_G)</text>
</g>
<!-- codeblock_30&#45;&gt;leaf_35 -->
<g id="edge35" class="edge">
<title>codeblock_30&#45;&gt;leaf_35</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1794.9708,-1508.3681C1795.9046,-1501.5526 1797.084,-1492.9438 1798.4763,-1482.7811"/>
<polygon fill="#000000" stroke="#000000" points="1801.9856,-1482.9518 1799.8754,-1472.5693 1795.0504,-1482.0016 1801.9856,-1482.9518"/>
</g>
<!-- leaf_36 -->
<g id="node37" class="node">
<title>leaf_36</title>
<polygon fill="none" stroke="#c0c0c0" points="2538.5,-839.7017 2214.5,-839.7017 2214.5,-724.101 2538.5,-724.101 2538.5,-839.7017"/>
<text text-anchor="middle" x="2376.5" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000">if string.sub(arg[0], &#45;4) == &quot;.lua&quot; then</text>
<text text-anchor="middle" x="2376.5" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;loadfile(arg[0])()</text>
<text text-anchor="middle" x="2376.5" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000">elseif string.sub(arg[0], &#45;4) == &quot;.raw&quot; then</text>
<text text-anchor="middle" x="2376.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;loadfile(arg[0])()</text>
<text text-anchor="middle" x="2376.5" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000">else</text>
<text text-anchor="middle" x="2376.5" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;loadfile(arg[0] .. &quot;.lua&quot;)()</text>
<text text-anchor="middle" x="2376.5" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
</g>
<!-- codeblock_31&#45;&gt;leaf_36 -->
<g id="edge36" class="edge">
<title>codeblock_31&#45;&gt;leaf_36</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2188.1965,-1508.4019C2193.9494,-1498.1291 2200.8057,-1484.8532 2205.5,-1472.4027 2288.7521,-1251.5978 2342.9907,-975.73 2365.1472,-850.0054"/>
<polygon fill="#000000" stroke="#000000" points="2368.5999,-850.5792 2366.8766,-840.1255 2361.7047,-849.3722 2368.5999,-850.5792"/>
</g>
<!-- leaf_34 -->
<g id="node35" class="node">
<title>leaf_34</title>
<polygon fill="none" stroke="#c0c0c0" points="1660.5,-55.6015 1434.5,-55.6015 1434.5,.2015 1660.5,.2015 1660.5,-55.6015"/>
<text text-anchor="middle" x="1547.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Lifted straight from penlight.</text>
</g>
<!-- raw_33&#45;&gt;leaf_34 -->
<g id="edge34" class="edge">
<title>raw_33&#45;&gt;leaf_34</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1547.5,-763.6318C1547.5,-665.7267 1547.5,-202.521 1547.5,-65.7864"/>
<polygon fill="#000000" stroke="#000000" points="1551.0001,-65.4096 1547.5,-55.4096 1544.0001,-65.4097 1551.0001,-65.4096"/>
</g>
</g>
</svg>
