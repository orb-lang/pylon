<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: lpegNode Pages: 1 -->
<svg width="1819pt" height="1768pt"
 viewBox="0.00 0.00 1818.50 1768.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1764.4027)">
<title>lpegNode</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1764.4027 1814.5,-1764.4027 1814.5,4 -4,4"/>
<!-- doc_0 -->
<g id="node1" class="node">
<title>doc_0</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1742.4027" rx="45.8507" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1738.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">doc &#45; 111</text>
</g>
<!-- section_1 -->
<g id="node2" class="node">
<title>section_1</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1670.4027" rx="60.1778" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1666.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 1&#45;11</text>
</g>
<!-- doc_0&#45;&gt;section_1 -->
<g id="edge1" class="edge">
<title>doc_0&#45;&gt;section_1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1724.234C491.5,-1716.5336 491.5,-1707.377 491.5,-1698.8193"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1698.8159 491.5,-1688.816 488.0001,-1698.816 495.0001,-1698.8159"/>
</g>
<!-- header_2 -->
<g id="node3" class="node">
<title>header_2</title>
<ellipse fill="none" stroke="#000000" cx="137.5" cy="-1598.4027" rx="39.232" ry="18"/>
<text text-anchor="middle" x="137.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">1 : load</text>
</g>
<!-- section_1&#45;&gt;header_2 -->
<g id="edge2" class="edge">
<title>section_1&#45;&gt;header_2</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M441.5313,-1660.2396C372.8765,-1646.2759 250.3295,-1621.3511 183.7093,-1607.8012"/>
<polygon fill="#000000" stroke="#000000" points="184.0111,-1604.291 173.5141,-1605.7276 182.6159,-1611.1505 184.0111,-1604.291"/>
</g>
<!-- prose_3 -->
<g id="node4" class="node">
<title>prose_3</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_3 -->
<g id="edge3" class="edge">
<title>section_1&#45;&gt;prose_3</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M455.2767,-1655.8324C424.1196,-1643.3 379.4189,-1625.3198 348.366,-1612.8292"/>
<polygon fill="#000000" stroke="#000000" points="349.3816,-1609.4653 338.7979,-1608.9806 346.7693,-1615.9596 349.3816,-1609.4653"/>
</g>
<!-- prose_4 -->
<g id="node5" class="node">
<title>prose_4</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_4 -->
<g id="edge4" class="edge">
<title>section_1&#45;&gt;prose_4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1652.234C491.5,-1644.5336 491.5,-1635.377 491.5,-1626.8193"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1626.8159 491.5,-1616.816 488.0001,-1626.816 495.0001,-1626.8159"/>
</g>
<!-- prose_5 -->
<g id="node6" class="node">
<title>prose_5</title>
<ellipse fill="none" stroke="#000000" cx="609.5" cy="-1598.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="609.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_1&#45;&gt;prose_5 -->
<g id="edge5" class="edge">
<title>section_1&#45;&gt;prose_5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M517.9815,-1654.2445C536.0487,-1643.2204 560.0324,-1628.5863 578.9149,-1617.0648"/>
<polygon fill="#000000" stroke="#000000" points="580.7453,-1620.0481 587.4586,-1611.8516 577.0992,-1614.0726 580.7453,-1620.0481"/>
</g>
<!-- section_6 -->
<g id="node7" class="node">
<title>section_6</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-1598.4027" rx="69.0476" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-1594.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">section: 12&#45;111</text>
</g>
<!-- section_1&#45;&gt;section_6 -->
<g id="edge6" class="edge">
<title>section_1&#45;&gt;section_6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M546.7393,-1662.9686C644.1146,-1649.8639 846.2209,-1622.6645 954.4281,-1608.1021"/>
<polygon fill="#000000" stroke="#000000" points="955.1561,-1611.5357 964.5999,-1606.7332 954.2224,-1604.5983 955.1561,-1611.5357"/>
</g>
<!-- leaf_7 -->
<g id="node8" class="node">
<title>leaf_7</title>
<polygon fill="none" stroke="#c0c0c0" points="80.5,-1544.4027 22.5,-1544.4027 22.5,-1508.4027 80.5,-1508.4027 80.5,-1544.4027"/>
<text text-anchor="middle" x="51.5" y="-1522.9027" font-family="Inconsolata" font-size="14.00" fill="#000000">* load</text>
</g>
<!-- header_2&#45;&gt;leaf_7 -->
<g id="edge7" class="edge">
<title>header_2&#45;&gt;leaf_7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M118.4138,-1582.4236C107.4537,-1573.2476 93.4543,-1561.5272 81.0961,-1551.1808"/>
<polygon fill="#000000" stroke="#000000" points="83.1749,-1548.3565 73.2605,-1544.6208 78.6813,-1553.7238 83.1749,-1548.3565"/>
</g>
<!-- raw_8 -->
<g id="node9" class="node">
<title>raw_8</title>
<ellipse fill="none" stroke="#000000" cx="125.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="125.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_8 -->
<g id="edge8" class="edge">
<title>prose_3&#45;&gt;raw_8</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M284.2815,-1589.4398C253.6521,-1579.4512 203.4919,-1562.3323 161.5,-1544.4027 159.7167,-1543.6412 157.8969,-1542.8334 156.0697,-1541.9981"/>
<polygon fill="#000000" stroke="#000000" points="157.5375,-1538.8205 147.004,-1537.6812 154.528,-1545.1406 157.5375,-1538.8205"/>
</g>
<!-- prespace_9 -->
<g id="node10" class="node">
<title>prespace_9</title>
<ellipse fill="none" stroke="#000000" cx="216.5" cy="-1526.4027" rx="46.4736" ry="18"/>
<text text-anchor="middle" x="216.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prespace</text>
</g>
<!-- prose_3&#45;&gt;prespace_9 -->
<g id="edge9" class="edge">
<title>prose_3&#45;&gt;prespace_9</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M293.073,-1583.8324C279.5746,-1573.7086 261.3362,-1560.0299 246.0453,-1548.5617"/>
<polygon fill="#000000" stroke="#000000" points="248.0024,-1545.6545 237.9024,-1542.4545 243.8024,-1551.2545 248.0024,-1545.6545"/>
</g>
<!-- literal_10 -->
<g id="node11" class="node">
<title>literal_10</title>
<ellipse fill="none" stroke="#000000" cx="312.5" cy="-1526.4027" rx="31.481" ry="18"/>
<text text-anchor="middle" x="312.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">literal</text>
</g>
<!-- prose_3&#45;&gt;literal_10 -->
<g id="edge10" class="edge">
<title>prose_3&#45;&gt;literal_10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.5,-1580.234C312.5,-1572.5336 312.5,-1563.377 312.5,-1554.8193"/>
<polygon fill="#000000" stroke="#000000" points="316.0001,-1554.8159 312.5,-1544.816 309.0001,-1554.816 316.0001,-1554.8159"/>
</g>
<!-- raw_11 -->
<g id="node12" class="node">
<title>raw_11</title>
<ellipse fill="none" stroke="#000000" cx="388.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="388.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_3&#45;&gt;raw_11 -->
<g id="edge11" class="edge">
<title>prose_3&#45;&gt;raw_11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M328.9909,-1582.7798C339.6629,-1572.6694 353.7097,-1559.3619 365.476,-1548.2149"/>
<polygon fill="#000000" stroke="#000000" points="367.968,-1550.6753 372.8204,-1541.257 363.1538,-1545.5936 367.968,-1550.6753"/>
</g>
<!-- raw_16 -->
<g id="node17" class="node">
<title>raw_16</title>
<ellipse fill="none" stroke="#000000" cx="491.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="491.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_4&#45;&gt;raw_16 -->
<g id="edge16" class="edge">
<title>prose_4&#45;&gt;raw_16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1580.234C491.5,-1572.5336 491.5,-1563.377 491.5,-1554.8193"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-1554.8159 491.5,-1544.816 488.0001,-1554.816 495.0001,-1554.8159"/>
</g>
<!-- raw_18 -->
<g id="node19" class="node">
<title>raw_18</title>
<ellipse fill="none" stroke="#000000" cx="644.5" cy="-1526.4027" rx="27" ry="18"/>
<text text-anchor="middle" x="644.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_5&#45;&gt;raw_18 -->
<g id="edge18" class="edge">
<title>prose_5&#45;&gt;raw_18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M617.9725,-1580.9735C622.0997,-1572.4833 627.1493,-1562.0955 631.7311,-1552.6701"/>
<polygon fill="#000000" stroke="#000000" points="634.8813,-1554.1953 636.1055,-1543.6714 628.5857,-1551.1349 634.8813,-1554.1953"/>
</g>
<!-- header_20 -->
<g id="node21" class="node">
<title>header_20</title>
<ellipse fill="none" stroke="#000000" cx="920.5" cy="-1526.4027" rx="55.1438" ry="18"/>
<text text-anchor="middle" x="920.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">2 : Stricture</text>
</g>
<!-- section_6&#45;&gt;header_20 -->
<g id="edge20" class="edge">
<title>section_6&#45;&gt;header_20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1001.6477,-1581.5219C987.0878,-1571.6321 968.5353,-1559.0305 952.8456,-1548.3733"/>
<polygon fill="#000000" stroke="#000000" points="954.7059,-1545.4059 944.4672,-1542.6823 950.7727,-1551.1964 954.7059,-1545.4059"/>
</g>
<!-- prose_21 -->
<g id="node22" class="node">
<title>prose_21</title>
<ellipse fill="none" stroke="#000000" cx="1026.5" cy="-1526.4027" rx="32.4585" ry="18"/>
<text text-anchor="middle" x="1026.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">prose</text>
</g>
<!-- section_6&#45;&gt;prose_21 -->
<g id="edge21" class="edge">
<title>section_6&#45;&gt;prose_21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.5,-1580.234C1026.5,-1572.5336 1026.5,-1563.377 1026.5,-1554.8193"/>
<polygon fill="#000000" stroke="#000000" points="1030.0001,-1554.8159 1026.5,-1544.816 1023.0001,-1554.816 1030.0001,-1554.8159"/>
</g>
<!-- codeblock_22 -->
<g id="node23" class="node">
<title>codeblock_22</title>
<ellipse fill="none" stroke="#000000" cx="1260.5" cy="-1526.4027" rx="82.2579" ry="18"/>
<text text-anchor="middle" x="1260.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 16&#45;106</text>
</g>
<!-- section_6&#45;&gt;codeblock_22 -->
<g id="edge22" class="edge">
<title>section_6&#45;&gt;codeblock_22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1071.3407,-1584.6056C1108.7331,-1573.1002 1162.2582,-1556.6309 1202.8348,-1544.1458"/>
<polygon fill="#000000" stroke="#000000" points="1204.0629,-1547.43 1212.5913,-1541.1438 1202.0042,-1540.7395 1204.0629,-1547.43"/>
</g>
<!-- codeblock_23 -->
<g id="node24" class="node">
<title>codeblock_23</title>
<ellipse fill="none" stroke="#000000" cx="1596.5" cy="-1526.4027" rx="85.9862" ry="18"/>
<text text-anchor="middle" x="1596.5" y="-1522.2027" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">code block 109&#45;111</text>
</g>
<!-- section_6&#45;&gt;codeblock_23 -->
<g id="edge23" class="edge">
<title>section_6&#45;&gt;codeblock_23</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1088.8575,-1590.5259C1191.6267,-1577.5446 1396.6752,-1551.6437 1512.2472,-1537.0451"/>
<polygon fill="#000000" stroke="#000000" points="1512.9791,-1540.4806 1522.4617,-1535.7549 1512.1018,-1533.5358 1512.9791,-1540.4806"/>
</g>
<!-- leaf_12 -->
<g id="node13" class="node">
<title>leaf_12</title>
<polygon fill="none" stroke="#c0c0c0" points="177,-809.8028 0,-809.8028 0,-753.9999 177,-753.9999 177,-809.8028"/>
<text text-anchor="middle" x="88.5" y="-762.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">The responsibilities of</text>
</g>
<!-- raw_8&#45;&gt;leaf_12 -->
<g id="edge12" class="edge">
<title>raw_8&#45;&gt;leaf_12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M124.6037,-1508.3681C119.806,-1411.8303 97.1273,-955.4964 90.391,-819.9521"/>
<polygon fill="#000000" stroke="#000000" points="93.8716,-819.4732 89.8795,-809.6593 86.8803,-819.8207 93.8716,-819.4732"/>
</g>
<!-- leaf_13 -->
<g id="node14" class="node">
<title>leaf_13</title>
<polygon fill="none" stroke="#c0c0c0" points="249.5,-799.9014 195.5,-799.9014 195.5,-763.9014 249.5,-763.9014 249.5,-799.9014"/>
<text text-anchor="middle" x="222.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> </text>
</g>
<!-- prespace_9&#45;&gt;leaf_13 -->
<g id="edge13" class="edge">
<title>prespace_9&#45;&gt;leaf_13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M216.6453,-1508.3681C217.4436,-1409.3185 221.2943,-931.5064 222.2733,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="225.7731,-810.059 222.3539,-800.0311 218.7733,-810.0025 225.7731,-810.059"/>
</g>
<!-- leaf_14 -->
<g id="node15" class="node">
<title>leaf_14</title>
<polygon fill="none" stroke="#c0c0c0" points="333.5,-799.9014 279.5,-799.9014 279.5,-763.9014 333.5,-763.9014 333.5,-799.9014"/>
<text text-anchor="middle" x="306.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">load</text>
</g>
<!-- literal_10&#45;&gt;leaf_14 -->
<g id="edge14" class="edge">
<title>literal_10&#45;&gt;leaf_14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M312.3547,-1508.3681C311.5564,-1409.3185 307.7057,-931.5064 306.7267,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="310.2267,-810.0025 306.6461,-800.0311 303.2269,-810.059 310.2267,-810.0025"/>
</g>
<!-- leaf_15 -->
<g id="node16" class="node">
<title>leaf_15</title>
<polygon fill="none" stroke="#c0c0c0" points="405.5,-799.9014 351.5,-799.9014 351.5,-763.9014 405.5,-763.9014 405.5,-799.9014"/>
<text text-anchor="middle" x="378.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">:</text>
</g>
<!-- raw_11&#45;&gt;leaf_15 -->
<g id="edge15" class="edge">
<title>raw_11&#45;&gt;leaf_15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M388.2578,-1508.3681C386.9273,-1409.3185 380.5095,-931.5064 378.8779,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="382.3776,-809.9832 378.7435,-800.0311 375.3782,-810.0772 382.3776,-809.9832"/>
</g>
<!-- leaf_17 -->
<g id="node18" class="node">
<title>leaf_17</title>
<polygon fill="none" stroke="#c0c0c0" points="559,-801.8034 424,-801.8034 424,-761.9993 559,-761.9993 559,-801.8034"/>
<text text-anchor="middle" x="491.5" y="-770.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; Parse arguments</text>
</g>
<!-- raw_16&#45;&gt;leaf_17 -->
<g id="edge17" class="edge">
<title>raw_16&#45;&gt;leaf_17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M491.5,-1508.3681C491.5,-1409.8574 491.5,-936.6944 491.5,-812.0497"/>
<polygon fill="#000000" stroke="#000000" points="495.0001,-811.7362 491.5,-801.7362 488.0001,-811.7362 495.0001,-811.7362"/>
</g>
<!-- leaf_19 -->
<g id="node20" class="node">
<title>leaf_19</title>
<polygon fill="none" stroke="#c0c0c0" points="852,-824.5024 577,-824.5024 577,-739.3003 852,-739.3003 852,-824.5024"/>
<text text-anchor="middle" x="714.5" y="-793.5014" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45; If interactive and scripts:</text>
<text text-anchor="middle" x="714.5" y="-778.1014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Clone the global namespace</text>
<text text-anchor="middle" x="714.5" y="-762.7014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Run scripts into namespace clone</text>
<text text-anchor="middle" x="714.5" y="-747.3013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#45; Launch REPL.</text>
</g>
<!-- raw_18&#45;&gt;leaf_19 -->
<g id="edge19" class="edge">
<title>raw_18&#45;&gt;leaf_19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M646.1957,-1508.3681C654.9618,-1415.1333 695.2817,-986.3018 709.5109,-834.9642"/>
<polygon fill="#000000" stroke="#000000" points="712.9981,-835.263 710.4497,-824.9793 706.0289,-834.6077 712.9981,-835.263"/>
</g>
<!-- leaf_24 -->
<g id="node25" class="node">
<title>leaf_24</title>
<polygon fill="none" stroke="#c0c0c0" points="970.5,-799.9014 870.5,-799.9014 870.5,-763.9014 970.5,-763.9014 970.5,-799.9014"/>
<text text-anchor="middle" x="920.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">** Stricture</text>
</g>
<!-- header_20&#45;&gt;leaf_24 -->
<g id="edge24" class="edge">
<title>header_20&#45;&gt;leaf_24</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M920.5,-1508.3681C920.5,-1409.3185 920.5,-931.5064 920.5,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="924.0001,-810.0311 920.5,-800.0311 917.0001,-810.0311 924.0001,-810.0311"/>
</g>
<!-- raw_25 -->
<g id="node26" class="node">
<title>raw_25</title>
<ellipse fill="none" stroke="#000000" cx="1015.5" cy="-781.9014" rx="27" ry="18"/>
<text text-anchor="middle" x="1015.5" y="-777.7014" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">raw</text>
</g>
<!-- prose_21&#45;&gt;raw_25 -->
<g id="edge25" class="edge">
<title>prose_21&#45;&gt;raw_25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1026.2335,-1508.3681C1024.7701,-1409.3185 1017.7104,-931.5064 1015.9157,-810.0355"/>
<polygon fill="#000000" stroke="#000000" points="1019.4153,-809.9783 1015.7679,-800.0311 1012.4161,-810.0818 1019.4153,-809.9783"/>
</g>
<!-- leaf_27 -->
<g id="node28" class="node">
<title>leaf_27</title>
<polygon fill="none" stroke="#c0c0c0" points="1664.5,-1472.404 1060.5,-1472.404 1060.5,-91.3987 1664.5,-91.3987 1664.5,-1472.404"/>
<text text-anchor="middle" x="1362.5" y="-1457.2027" font-family="Inconsolata" font-size="14.00" fill="#000000">local getinfo, error, rawset, rawget = debug.getinfo, error, rawset, rawget</text>
<text text-anchor="middle" x="1362.5" y="-1441.8027" font-family="Inconsolata" font-size="14.00" fill="#000000">local strict = {}</text>
<text text-anchor="middle" x="1362.5" y="-1410.4026" font-family="Inconsolata" font-size="14.00" fill="#000000">local function what ()</text>
<text text-anchor="middle" x="1362.5" y="-1395.0026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local d = getinfo(3, &quot;S&quot;)</text>
<text text-anchor="middle" x="1362.5" y="-1379.6026" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return d and d.what or &quot;C&quot;</text>
<text text-anchor="middle" x="1362.5" y="-1364.2025" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1362.5" y="-1332.8025" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45;&#45; make an existing table strict.</text>
<text text-anchor="middle" x="1362.5" y="-1317.4025" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @string name name of table (optional)</text>
<text text-anchor="middle" x="1362.5" y="-1302.0024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] mod table &#45; if `nil` then we&#39;ll return a new table</text>
<text text-anchor="middle" x="1362.5" y="-1286.6024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab[opt] predeclared &#45; table of variables that are to be considered predeclared.</text>
<text text-anchor="middle" x="1362.5" y="-1271.2024" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @return the given table, or a new table</text>
<text text-anchor="middle" x="1362.5" y="-1255.8023" font-family="Inconsolata" font-size="14.00" fill="#000000">local function stricture(name,mod,predeclared)</text>
<text text-anchor="middle" x="1362.5" y="-1240.4023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;local mt, old_newindex, old_index, old_index_type, global, closed</text>
<text text-anchor="middle" x="1362.5" y="-1225.0023" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if predeclared then</text>
<text text-anchor="middle" x="1362.5" y="-1209.6022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;global = predeclared.__global</text>
<text text-anchor="middle" x="1362.5" y="-1194.2022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;closed = predeclared.__closed</text>
<text text-anchor="middle" x="1362.5" y="-1178.8022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-1163.4022" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if type(mod) == &#39;table&#39; then</text>
<text text-anchor="middle" x="1362.5" y="-1148.0021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = getmetatable(mod)</text>
<text text-anchor="middle" x="1362.5" y="-1132.6021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if mt and rawget(mt,&#39;__declared&#39;) then return end &#45;&#45; already patched...</text>
<text text-anchor="middle" x="1362.5" y="-1117.2021" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-1101.802" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mod = {}</text>
<text text-anchor="middle" x="1362.5" y="-1086.402" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-1071.002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;if mt == nil then</text>
<text text-anchor="middle" x="1362.5" y="-1055.6019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;mt = {}</text>
<text text-anchor="middle" x="1362.5" y="-1040.2019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;setmetatable(mod, mt)</text>
<text text-anchor="middle" x="1362.5" y="-1024.8019" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-1009.4018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex = mt.__newindex</text>
<text text-anchor="middle" x="1362.5" y="-994.0018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index = mt.__index</text>
<text text-anchor="middle" x="1362.5" y="-978.6018" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;old_index_type = type(old_index)</text>
<text text-anchor="middle" x="1362.5" y="-963.2017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-947.8017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__declared = predeclared or {}</text>
<text text-anchor="middle" x="1362.5" y="-932.4017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__newindex = function(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-917.0017" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_newindex then</text>
<text text-anchor="middle" x="1362.5" y="-901.6016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;old_newindex(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-886.2016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if rawget(t,n)~=nil then return end</text>
<text text-anchor="middle" x="1362.5" y="-870.8016" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-855.4015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] then</text>
<text text-anchor="middle" x="1362.5" y="-840.0015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if global then</text>
<text text-anchor="middle" x="1362.5" y="-824.6015" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local w = what()</text>
<text text-anchor="middle" x="1362.5" y="-809.2014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if w ~= &quot;main&quot; and w ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-793.8014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(&quot;assign to undeclared global &#39;&quot;..n..&quot;&#39;&quot;, 2)</text>
<text text-anchor="middle" x="1362.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-763.0013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-747.6013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mt.__declared[n] = true</text>
<text text-anchor="middle" x="1362.5" y="-732.2013" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-716.8012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;rawset(t, n, v)</text>
<text text-anchor="middle" x="1362.5" y="-701.4012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-686.0012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mt.__index = function(t,n)</text>
<text text-anchor="middle" x="1362.5" y="-670.6012" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if not mt.__declared[n] and what() ~= &quot;C&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-655.2011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index then</text>
<text text-anchor="middle" x="1362.5" y="-639.8011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if old_index_type == &quot;table&quot; then</text>
<text text-anchor="middle" x="1362.5" y="-624.4011" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local fallback = old_index[n]</text>
<text text-anchor="middle" x="1362.5" y="-609.001" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if fallback ~= nil then</text>
<text text-anchor="middle" x="1362.5" y="-593.601" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return fallback</text>
<text text-anchor="middle" x="1362.5" y="-578.201" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-562.8009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;else</text>
<text text-anchor="middle" x="1362.5" y="-547.4009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local res = old_index(t, n)</text>
<text text-anchor="middle" x="1362.5" y="-532.0009" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if res ~= nil then</text>
<text text-anchor="middle" x="1362.5" y="-516.6008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;return res</text>
<text text-anchor="middle" x="1362.5" y="-501.2008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-485.8008" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-470.4007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-455.0007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;local msg = &quot;variable &#39;&quot;..n..&quot;&#39; is not declared&quot;</text>
<text text-anchor="middle" x="1362.5" y="-439.6007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if name then</text>
<text text-anchor="middle" x="1362.5" y="-424.2007" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;msg = msg .. &quot; in &#39;&quot;..name..&quot;&#39;&quot;</text>
<text text-anchor="middle" x="1362.5" y="-408.8006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-393.4006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;error(msg, 2)</text>
<text text-anchor="middle" x="1362.5" y="-378.0006" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-362.6005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;return rawget(t, n)</text>
<text text-anchor="middle" x="1362.5" y="-347.2005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-331.8005" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;return mod</text>
<text text-anchor="middle" x="1362.5" y="-316.4004" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1362.5" y="-285.0004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; So `strict.make_all_strict(_G)` prevents monkey&#45;patching</text>
<text text-anchor="middle" x="1362.5" y="-269.6004" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; of any global table</text>
<text text-anchor="middle" x="1362.5" y="-254.2003" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; @tab T</text>
<text text-anchor="middle" x="1362.5" y="-238.8003" font-family="Inconsolata" font-size="14.00" fill="#000000">local function make_all_strict (T)</text>
<text text-anchor="middle" x="1362.5" y="-223.4003" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;for k,v in pairs(T) do</text>
<text text-anchor="middle" x="1362.5" y="-208.0002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;if type(v) == &#39;table&#39; and v ~= T then</text>
<text text-anchor="middle" x="1362.5" y="-192.6002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;stricture(k,v)</text>
<text text-anchor="middle" x="1362.5" y="-177.2002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-161.8002" font-family="Inconsolata" font-size="14.00" fill="#000000"> &#160;&#160;&#160;end</text>
<text text-anchor="middle" x="1362.5" y="-146.4001" font-family="Inconsolata" font-size="14.00" fill="#000000">end</text>
<text text-anchor="middle" x="1362.5" y="-115.0001" font-family="Inconsolata" font-size="14.00" fill="#000000">stricture(nil,_G,{_PROMPT=true,__global=true})</text>
<text text-anchor="middle" x="1362.5" y="-99.6001" font-family="Inconsolata" font-size="14.00" fill="#000000">&#45;&#45; make_all_strict(_G)</text>
</g>
<!-- codeblock_22&#45;&gt;leaf_27 -->
<g id="edge27" class="edge">
<title>codeblock_22&#45;&gt;leaf_27</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1262.9708,-1508.3681C1263.9046,-1501.5526 1265.084,-1492.9438 1266.4763,-1482.7811"/>
<polygon fill="#000000" stroke="#000000" points="1269.9856,-1482.9518 1267.8754,-1472.5693 1263.0504,-1482.0016 1269.9856,-1482.9518"/>
</g>
<!-- leaf_28 -->
<g id="node29" class="node">
<title>leaf_28</title>
<polygon fill="none" stroke="#c0c0c0" points="1810.5,-799.9014 1682.5,-799.9014 1682.5,-763.9014 1810.5,-763.9014 1810.5,-799.9014"/>
<text text-anchor="middle" x="1746.5" y="-778.4014" font-family="Inconsolata" font-size="14.00" fill="#000000">require (arg[0])</text>
</g>
<!-- codeblock_23&#45;&gt;leaf_28 -->
<g id="edge28" class="edge">
<title>codeblock_23&#45;&gt;leaf_28</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1632.5721,-1509.7949C1647.7513,-1500.9039 1664.0538,-1488.4413 1673.5,-1472.4027 1805.8771,-1247.6395 1766.6231,-909.4998 1751.3058,-810.238"/>
<polygon fill="#000000" stroke="#000000" points="1754.7209,-809.427 1749.6944,-800.1004 1747.8077,-810.5259 1754.7209,-809.427"/>
</g>
<!-- leaf_26 -->
<g id="node27" class="node">
<title>leaf_26</title>
<polygon fill="none" stroke="#c0c0c0" points="1128.5,-55.6015 902.5,-55.6015 902.5,.2015 1128.5,.2015 1128.5,-55.6015"/>
<text text-anchor="middle" x="1015.5" y="-8.2" font-family="Inconsolata" font-size="14.00" fill="#000000">Lifted straight from penlight.</text>
</g>
<!-- raw_25&#45;&gt;leaf_26 -->
<g id="edge26" class="edge">
<title>raw_25&#45;&gt;leaf_26</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1015.5,-763.6318C1015.5,-665.7267 1015.5,-202.521 1015.5,-65.7864"/>
<polygon fill="#000000" stroke="#000000" points="1019.0001,-65.4096 1015.5,-55.4096 1012.0001,-65.4097 1019.0001,-65.4096"/>
</g>
</g>
</svg>
